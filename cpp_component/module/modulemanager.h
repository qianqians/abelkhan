
#ifndef _modulemng_h
#define _modulemng_h

#include "module.h"

namespace common
{

class modulemanager {
public:
	void add_module(std::string module_name, std::shared_ptr<imodule> module)
	{
		modules.insert(std::make_pair(module_name, module));
	}

	void process_module_mothed(std::string module_name, std::string cb_name, Fossilizid::JsonParse::JsonArray InArray)
	{
		auto module = modules.find(module_name);
		if (module != modules.end())
		{
			(module->second)->invoke(cb_name, InArray);
		}
	}

private:
	std::map<std::string, std::shared_ptr<imodule> > modules;

};

}

#endif
